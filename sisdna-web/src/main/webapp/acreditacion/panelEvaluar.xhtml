<f:view contentType="text/html"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:pe="http://primefaces.org/ui/extensions">
       
       <p:fieldset legend="DATOS DE LA DEMUNA" style="width: 100%">
              
              <div class="ui-g">
                <div class="ui-g-12 ui-md-12">
                    <h2>#{acreditacionAdministrado.acreditacion.dna.txtEntidad}</h2>
                    <h3>#{acreditacionAdministrado.acreditacion.dna.txtConstancia} - 
                        #{acreditacionAdministrado.acreditacion.dna.txtNombre} <br /> 
                        #{acreditacionAdministrado.getNombreDepartamento(acreditacionAdministrado.acreditacion.dna.nidDepartamento)} -
                        #{acreditacionAdministrado.getNombreProvincia(acreditacionAdministrado.acreditacion.dna.nidProvincia)} -
                        #{acreditacionAdministrado.getNombreDistrito(acreditacionAdministrado.acreditacion.dna.nidDistrito)}
                    </h3>
                </div>
                <div class="ui-g-12 ui-md-12">
                    <p:outputLabel value="Teléfono:  "/>#{acreditacionAdministrado.acreditacion.dna.defensoriaInfo.txtTelefono}
                </div>
            </div>
            <p:separator />
              
               <div class="ui-g">
                     <div class="ui-g-12 ui-md-4">
                         <p:selectBooleanCheckbox value="#{acreditacionAdministrado.flgFecOrdenanza}"  disabled="#{acreditacionAdministrado.acreditacionEval.obsDocCreacion eq 6}"
                                                  style="margin-right: 12px !important">
                            <p:ajax update="obsFecOrdenanzaEv , btnEvaluar" />
                         </p:selectBooleanCheckbox>
                         <p:outputLabel value="Fecha de Ordenanza "/> 
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText 
                                     value="#{acreditacionAdministrado.obtenerFechaConFormato(acreditacionAdministrado.acreditacionEval.fecOrdenanza)}"
                                     maxlength="850" readonly="true" style="width: 100px !important">
                        </p:inputText>
                        <p:outputPanel id="obsFecOrdenanzaEv" style="width: 100%">
                            <p:inputText rendered="#{acreditacionAdministrado.flgFecOrdenanza}" required="#{acreditacionAdministrado.flgFecOrdenanza}" 
                                        requiredMessage="Debe ingresar la observación de la fecha de ordenanza"
                                        value="#{acreditacionAdministrado.acreditacionEval.obsFecOrdenanza}" 
                                     maxlength="850" style="margin-top:12px !important">
                            </p:inputText>
                          </p:outputPanel>
                    </div>
                 </div>
                <div class="ui-g">
          
                     <div class="ui-g-12 ui-md-4">
                         <p:selectBooleanCheckbox id="flgNroOrdenanza" value="#{acreditacionAdministrado.flgNroOrdenanza}" disabled="#{acreditacionAdministrado.acreditacionEval.obsDocCreacion eq 6}"
                                                  style="margin-right: 12px !important">
                            <p:ajax update="obsNroOrdenanza , btnEvaluar" />
                         </p:selectBooleanCheckbox>
                         <p:outputLabel value="Número de Ordenanza "/> 
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText  value="#{acreditacionAdministrado.acreditacionEval.txtDocumento}" 
                                     maxlength="850" readonly="true" title="Campo Obligatorio" >
                        </p:inputText>
                        <p:outputPanel id="obsNroOrdenanza" style="width: 100%">
                            <p:inputText rendered="#{acreditacionAdministrado.flgNroOrdenanza}" required="#{acreditacionAdministrado.flgNroOrdenanza}" 
                                            requiredMessage="Debe ingresar la observación de el número de ordenanza"
                                            value="#{acreditacionAdministrado.acreditacionEval.obsDocCreacion}" 
                                         maxlength="850" style="margin-top:12px !important">
                            </p:inputText>

                     </p:outputPanel>
                    </div>
                </div>    
                <div class="ui-g">
                    <div class="ui-g-12 ui-md-4">
                        <p:selectBooleanCheckbox value="#{acreditacionAdministrado.flgNorma}"  style="margin-right: 12px !important">
                            <p:ajax update="obsNorma , btnEvaluar " />
                        </p:selectBooleanCheckbox>
                          <p:outputLabel value="Norma y el artículo de la Ordenanza donde se consigna como función de la DEMUNA"/>  
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacionEval.txtNorma}" />
                         <p:outputPanel id="obsNorma" style="width: 100%">
                           <p:inputText rendered="#{acreditacionAdministrado.flgNorma}"
                                     required="#{acreditacionAdministrado.flgNorma}"    
                                     value="#{acreditacionAdministrado.acreditacionEval.obsNorma}" 
                                     requiredMessage="Debe ingresar la observación de la norma"  maxlength="300" style="margin-top:12px !important">
                              <p:ajax update="@this"/>
                           </p:inputText>
                                        
                         </p:outputPanel>   
                    </div>
                </div>
                <div class="ui-g">
                    <div class="ui-g-12 ui-md-4">
                        <p:selectBooleanCheckbox id="flgDireccionObs" value="#{acreditacionAdministrado.flgDireccionObs}"  style="margin-right: 12px !important">
                            <p:ajax update="obsDireccion , btnEvaluar " />
                        </p:selectBooleanCheckbox>
                          <p:outputLabel value="Dirección"/>  
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacionEval.txtDireccion}" />
                         <p:outputPanel id="obsDireccion" style="width: 100%">
                           <p:inputText rendered="#{acreditacionAdministrado.flgDireccionObs}"
                                     required="#{acreditacionAdministrado.flgDireccionObs}"    
                                     value="#{acreditacionAdministrado.acreditacionEval.obsDireccion}" 
                                     requiredMessage="Debe ingresar la observación de la dirección"  maxlength="300" style="margin-top:12px !important">
                              <p:ajax update="@this"/>
                           </p:inputText>
                                        
                         </p:outputPanel>   
                    </div>
                </div>
          
            
                <div class="ui-g">
                    <div class="ui-g-12 ui-md-4">
                        <p:selectBooleanCheckbox id="flgCorreoObs" value="#{acreditacionAdministrado.flgCorreoObs}" style="margin-right: 12px !important">
                            <p:ajax update="obsCorreo , btnEvaluar" />
                        </p:selectBooleanCheckbox>
                          <p:outputLabel value="Correo electrónico de contacto"/>  
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText value="#{acreditacionAdministrado.acreditacionEval.txtCorreo}" 
                                     maxlength="150" readonly="true" title="Campo Obligatorio">
                        </p:inputText>
                        
                         <p:outputPanel id="obsCorreo" style="width: 100%">
                            <p:inputText rendered="#{acreditacionAdministrado.flgCorreoObs}" required="#{acreditacionAdministrado.flgCorreoObs}" 
                                          requiredMessage="Debe ingresar la observación del correo electrónico de contacto"
                                       value="#{acreditacionAdministrado.acreditacionEval.obsCorreo}"  maxlength="300"  style="margin-top:12px !important">
                                  <p:ajax update="@this"/>
                              </p:inputText>
                        </p:outputPanel>   
                    </div>
                    
                </div>
              
               <div class="ui-g">
                    <div class="ui-g-12 ui-md-4">
                        <p:selectBooleanCheckbox id="flgDiasHoraObs" value="#{acreditacionAdministrado.flgDiasHoraObs}"  style="margin-right: 12px !important">
                            <p:ajax update="obsDias , btnEvaluar" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel value="Días y horas de Atención"/>    
                    </div>
                    <div class="ui-g-12 ui-md-8">
                         <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacionEval.dias}" maxlength="50" />
                         <p:outputPanel id="obsDias" style="width: 100%">
                          <p:inputText rendered="#{acreditacionAdministrado.flgDiasHoraObs}"
                                     required="#{acreditacionAdministrado.flgDiasHoraObs}"
                                     requiredMessage="Debe ingresar la observación de los días y horas de atención"
                                     value="#{acreditacionAdministrado.acreditacionEval.obsDias}" 
                                     maxlength="300"   style="margin-top:12px !important">
                            <p:ajax update="@this"/>
                        </p:inputText>
                       </p:outputPanel>   
                    </div>
                </div>
                 
                <div class="ui-g">
                     <div class="ui-g-12 ui-md-4">
                        <p:selectBooleanCheckbox id="flgGerenciaObs" value="#{acreditacionAdministrado.flgGerenciaObs}"  style="margin-right: 12px !important">
                            <p:ajax update="obsGerencia , btnEvaluar " />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel value="Órgano, oficina o área a la que pertenece la DEMUNA"/>    
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacionEval.txtGerencia}" maxlength="150" />
                        <p:outputPanel id="obsGerencia" style="width: 100%">
                                <p:inputText rendered="#{acreditacionAdministrado.flgGerenciaObs}"
                                             required="#{acreditacionAdministrado.flgGerenciaObs}"
                                             requiredMessage="Debe ingresar la observación de la dirección o gerencia"
                                             value="#{acreditacionAdministrado.acreditacionEval.obsGerencia}"  maxlength="300"  style="margin-top:12px !important">
                                    <p:ajax update="@this"/>
                                </p:inputText>
                                               
                         </p:outputPanel>   
                    </div>
                </div>
              
          </p:fieldset>
          <p:fieldset legend="CONDICIONES DEL ESPACIO QUE OCUPA LA DEMUNA" style="width: 100%">

                <div class="ui-g">
                    <div class="ui-g-12 ui-md-4">
                        <p:selectBooleanCheckbox id="flgNroAmbObs" value="#{acreditacionAdministrado.flgNroAmbObs}" style="margin-right: 12px !important">
                            <p:ajax update="obsAmbientes , btnEvaluar" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel value="Número de ambientes con los que cuenta la DNA"/>    
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText readonly="true" value="#{acreditacionAdministrado.acreditacionEval.ambientes}" style="width: 80px !important" />
                         <p:outputPanel id="obsAmbientes" style="width: 100%" >
                         <p:inputText rendered="#{acreditacionAdministrado.flgNroAmbObs}"
                                     required="#{acreditacionAdministrado.flgNroAmbObs}"
                                     requiredMessage="Debe ingresar la observación del número de ambientes"
                                     value="#{acreditacionAdministrado.acreditacionEval.obsAmbientes}" 
                                     maxlength="300"  style="margin-top:12px !important" >
                            <p:ajax update="@this"/>
                        </p:inputText>
                      </p:outputPanel>  
                    </div>
                </div>  
               
                
               <div class="ui-g">
                    <div class="ui-g-12 ui-md-4">
                        <p:selectBooleanCheckbox id="flgNroAmbPrivObs" value="#{acreditacionAdministrado.flgNroAmbPrivObs}"  style="margin-right: 12px !important">
                            <p:ajax update="obsAmbientesPriv , btnEvaluar" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel value="Número de ambientes para audiencias privadas"/>    
                    </div>
                    <div class="ui-g-12 ui-md-8">
                        <p:inputText readonly="true" value="#{acreditacionAdministrado.acreditacionEval.ambientesPriv}"  style="width: 80px !important" />
                         <p:outputPanel id="obsAmbientesPriv" style="width: 100%">
                           <p:inputText rendered="#{acreditacionAdministrado.flgNroAmbPrivObs}"
                                     required="#{acreditacionAdministrado.flgNroAmbPrivObs}"
                                     requiredMessage="Debe ingresar la observación del número de ambienes para audiencias privadas"
                                     value="#{acreditacionAdministrado.acreditacionEval.obsAmbientesPriv}" 
                                     maxlength="300"  style="margin-top:12px !important">
                            <p:ajax update="@this"/>
                        </p:inputText>
                      </p:outputPanel>  
                
                    </div>
                </div>
               
              
                 <div class="ui-g">
                     <div class="ui-g-12 ui-md-9">
                         <p:outputLabel value="¿Cuenta con equipo de cómputo a disposición de cada personal de la DEMUNA?"/> 
                    </div>
                    <div class="ui-g-12 ui-md-1">
                         <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacionEval.flgEquipoComputo}" style="margin-right: 12px !important">
                        </p:selectBooleanCheckbox>
                    </div> 
                    <div class="ui-g-12 ui-md-2">    
                        <p:outputLabel value="Observado" rendered="#{!acreditacionAdministrado.acreditacionEval.flgEquipoComputo}"/> 
                    </div>
                </div>
            
                <div class="ui-g">
                     <div class="ui-g-12 ui-md-9">
                         <p:outputLabel value="¿Cuenta con impresora a disposición de la DEMUNA?"/> 
                    </div>
                     <div class="ui-g-12 ui-md-1">
                       <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacionEval.flgImpresora}"  style="margin-right: 12px !important">
                        </p:selectBooleanCheckbox>
                      </div> 
                    <div class="ui-g-12 ui-md-2">    
                        <p:outputLabel value="Observado" rendered="#{!acreditacionAdministrado.acreditacionEval.flgImpresora}"/> 
                    </div>
                </div>
            
                <div class="ui-g">
                     <div class="ui-g-12 ui-md-9">
                        <p:outputLabel value="¿Cuenta con conexión a internet en la DEMUNA?"/> 
                    </div>
                     <div class="ui-g-12 ui-md-1">
                        <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacionEval.flgInternet}"  style="margin-right: 12px !important">
                        </p:selectBooleanCheckbox>
                    </div>
                    <div class="ui-g-12 ui-md-2">    
                        <p:outputLabel value="Observado" rendered="#{!acreditacionAdministrado.acreditacionEval.flgInternet}"/> 
                    </div>
                </div>
            
                <div class="ui-g">
                     <div class="ui-g-12 ui-md-9">
                            <p:outputLabel value="¿Los archivadores y escritorios son seguros para el resguardo de los expedientes sobre riesgo de desprotección y otros de la DEMUNA?"/> 
                    </div>
                     <div class="ui-g-12 ui-md-1">
                        <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacionEval.flgArchivadores}"  style="margin-right: 12px !important">
                        </p:selectBooleanCheckbox>
                     </div>
                    <div class="ui-g-12 ui-md-2">    
                        <p:outputLabel value="Observado" rendered="#{!acreditacionAdministrado.acreditacionEval.flgArchivadores}"/> 
                    </div>
                </div>
            
                <div class="ui-g">
                     <div class="ui-g-12 ui-md-9">
                         <p:outputLabel value="¿El Local garantiza la accesibilidad de niñas, niños, adolescentes, madres gestantes o personas con discapacidad?"/> 
                     </div>
                    <div class="ui-g-12 ui-md-1">
                         <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacionEval.flgAccesibilidad}">
                        </p:selectBooleanCheckbox>
                    </div>
                    <div class="ui-g-12 ui-md-2">    
                        <p:outputLabel value="Observado" rendered="#{!acreditacionAdministrado.acreditacionEval.flgAccesibilidad}"/> 
                    </div>
                </div>
            
                <div class="ui-g">
                     <div class="ui-g-12 ui-md-9">
                          <p:outputLabel value="¿Cuenta con un área lúdica para la atención de niñas, niños y adolescentes?"/> 
                    </div>
                     <div class="ui-g-12 ui-md-1">
                        <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacionEval.flgAreaLudica}"  style="margin-right: 12px !important">
                        </p:selectBooleanCheckbox>
                    </div>
                    <div class="ui-g-12 ui-md-2">    
                        <p:outputLabel value="Observado" rendered="#{!acreditacionAdministrado.acreditacionEval.flgAreaLudica}"/> 
                    </div>
                    
                </div>
                 <div class="ui-g">
                     <div class="ui-g-12 ui-md-6">
                         <p:selectBooleanCheckbox value="#{acreditacionAdministrado.flgEstadoCons}"  disabled="#{acreditacionAdministrado.acreditacionEval.obsEstadoCons eq 6}"
                                                  style="margin-right: 12px !important">
                            <p:ajax update="obsEstadoCons , btnEvaluar" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel value="¿Cuál es el estado de conservación de la oficina de DEMUNA?"/> 
                     </div>  
                     <div class="ui-g-12 ui-md-6">
                            <p:selectOneRadio required="true" value="#{acreditacionAdministrado.acreditacionEval.txtEstadoCons}"
                                              requiredMessage="Debe de escoger el estado de Conservación" disabled="true" >
                                <f:selectItem itemLabel="BUENO" itemValue="1" />
                                <f:selectItem itemLabel="REGULAR" itemValue="2" />
                                <f:selectItem itemLabel="MALO" itemValue="3" />
                            </p:selectOneRadio>
                            <p:outputPanel id="obsEstadoCons" style="width: 100%">
                                <p:inputText rendered="#{acreditacionAdministrado.flgEstadoCons}" required="#{acreditacionAdministrado.flgEstadoCons}" 
                                             requiredMessage="Debe ingresar la observación de el estado de conservación"
                                             value="#{acreditacionAdministrado.acreditacionEval.obsEstadoCons}"
                                          maxlength="850"  style="margin-top:12px !important">
                                 </p:inputText>
                           </p:outputPanel> 
                    </div>
                </div>
               
          </p:fieldset>
               
                <p:dataTable 
                    id="tablaPersonas"
                    widgetVar="tablaPersonas" 
                    var="persona" 
                    value="#{acreditacionAdministrado.equipoEval}" 
                    rowIndexVar="index"
                    scrollable="true"
                    rows="10" 
                    paginator="false"
                    resizableColumns="false"
                    emptyMessage="No se encontraron registros"
                    currentPageReportTemplate="Mostrando {startRecord} - {endRecord} de {totalRecords}">

                    <p:column headerText="ACCIONES"  class="pcenter" width="10%">                                       	                                
                        <p:commandButton rendered="#{acreditacionAdministrado.modo eq 3}"
                                         update=":dialogoEvaluarPersona"  process="@this"
                                         oncomplete="PF('dialogoEvaluarPersona').show();"  
                                         actionListener="#{acreditacionAdministrado.obtenerPersonaAEvaluar(persona)}" 
                                         title="Evaluar" icon="fa fa-check">
                        </p:commandButton>
                          <p:commandButton rendered="#{acreditacionAdministrado.modo eq 6}"
                                         update=":dialogoVerPersona"  process="@this"
                                         actionListener="#{acreditacionAdministrado.obtenerPersonaVer(itemEquipo)}" 
                                         oncomplete="PF('dialogoVerPersona').show();"  
                                         title="Ver Persona" icon="fa fa-eye">
                        </p:commandButton>
                    </p:column>
                
                    <p:column headerText="FUNCIÓN"  class="pcenter" width="15%">
                        <h:outputText value="#{persona.funcion.txtNombre}" />
                    </p:column>
                    <p:column headerText="NOMBRES"  class="pcenter" width="20%">
                        <h:outputText value="#{persona.txtNombre1}" />
                    </p:column>

                    <p:column headerText="APELLIDO PATERNO" class="pcenter" width="15%">
                        <h:outputText value="#{persona.txtApellidoPaterno}" />
                    </p:column>

                    <p:column headerText="APELLIDO MATERNO" class="pcenter" width="15%">
                        <h:outputText value="#{persona.txtApellidoMaterno}" />
                    </p:column>

                    <p:column headerText="SEXO" class="pcenter" width="5%">
                        <h:outputText value="#{persona.txtSexo}" />
                    </p:column>

                </p:dataTable>

            
    <p:dataList value="#{acreditacionAdministrado.obtenerAdjuntosEvaluar()}"  var="doc" rowIndexVar="indexDoc" type="definition" class="noborder" emptyMessage="No hay tipo de archivos registrados">
        <p:outputPanel>
            <p:commandLink  ajax="false" process="@this" immediate="true"
                          value="Descargar #{doc.tipo.txtNombre} : #{doc.txtNombre}">
                     <p:fileDownload value="#{acreditacionAdministrado.obtenerNombreAdjunto(doc)}" />
            </p:commandLink>
        
        </p:outputPanel><br />
    </p:dataList>
    <div class="ui-g">
        <div class="ui-g-12 ui-md-12">
            <p:selectBooleanCheckbox value="#{acreditacionAdministrado.flgAdjuntosObs}"  style="margin-right: 12px !important">
                <p:ajax update="obsArchivos , btnEvaluar" />
            </p:selectBooleanCheckbox>
            Observación en archivos 
        </div>
        <p:outputPanel id="obsArchivos" class="ui-g-12">
               <p:inputText rendered="#{acreditacionAdministrado.flgAdjuntosObs}"
                         required="#{acreditacionAdministrado.flgAdjuntosObs}"
                         requiredMessage="Debe ingresar la observación de los archivos adjuntos"
                         value="#{acreditacionAdministrado.acreditacionEval.obsDocs}" 
                         maxlength="850" style="margin-top:12px !important">
            </p:inputText>
       </p:outputPanel>  
    </div>
</f:view>
