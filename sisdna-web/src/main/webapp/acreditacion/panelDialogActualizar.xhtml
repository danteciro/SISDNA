<f:view contentType="text/html"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:pe="http://primefaces.org/ui/extensions">
    
    
    <p:dialog modal="true" id="dialogoActualizar" widgetVar="dialogoActualizar" header="Actualizar Acreditaciòn" closeOnEscape="true" height="760px" resizable="false" width="900px" dynamic="false">
        <h:form id="formActualizar">
          <ui:include src="panelActualizar.xhtml" />
           <br></br>
            <p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" class="pnoborder pright">
                <p:column>
                    <p:commandButton value="Guardar" 
                                     actionListener="#{acreditacionAdministrado.actualizar()}" 
                                     process="@form"
                                     update=":formularioPrincipal:tablaDocs" 
                                     oncomplete="if (!args.validationFailed) PF('dialogoActualizar').hide()" 
                                     icon="ui-icon-disk" title="Guarda los cambios"/>	
                    <p:commandButton value="Cerrar" 
                                     onclick="PF('dialogoActualizar').hide();" 
                                     immediate="true" 
                                     process="@this"
                                     icon="ui-icon-cancel"/>
                </p:column>
            </p:panelGrid>
           <f:event listener="#{acreditacionAdministrado.validarCreate}" type="postValidate" />
        </h:form>        
    </p:dialog>

    <p:dialog modal="true" id="dialogActualizarPersona" widgetVar="dialogActualizarPersona" header="Editar Persona" closeOnEscape="true" resizable="false" width="900px" dynamic="false">
        <h:form id="formActualizarPersona">
            <ui:include src="panelPersonalExterno.xhtml" />
           <br></br>
            <p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" class="pnoborder pright">
                <p:column>
                    <p:commandButton value="Editar" 
                                     actionListener="#{acreditacionAdministrado.actualizarPersonaEquipoExterno()}" 
                                     update=":formActualizar:tablaPersonal" 
                                     oncomplete="if (!args.validationFailed) PF('dialogActualizarPersona').hide()" 
                                     icon="ui-icon-disk" title="Guarda los cambios"/>	
                    <p:commandButton value="Cerrar" onclick="PF('dialogActualizarPersona').hide();" immediate="true" process="@this" icon="ui-icon-cancel"/>
                </p:column>
            </p:panelGrid>
           <f:event listener="#{acreditacionAdministrado.validarPanelPersona}" type="postValidate" />
        </h:form>        

    </p:dialog>
    <p:dialog modal="true" id="dialogoAnularPersonaActualizar" widgetVar="dialogoAnularPersonaActualizar" header="Equipo" closeOnEscape="true" resizable="false" dynamic="false">
      <h:form>
          ¿ Está seguro de eliminar la persona ?
          <p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" class="pnoborder pright">
              <p:column>
                  <p:commandButton value="SÍ" 
                                   actionListener="#{acreditacionAdministrado.removerPersonaActualizar()}" 
                                   update=":formActualizar:tablaPersonal" 
                                   oncomplete="if (!args.validationFailed) PF('dialogoAnularPersonaActualizar').hide()" 
                                   icon="ui-icon-disk" title="Guarda los cambios"/>	
                  <p:commandButton value="NO" onclick="PF('dialogoAnularPersonaActualizar').hide();" immediate="true" process="@this" icon="ui-icon-cancel"/>
              </p:column>
          </p:panelGrid>
      </h:form>
  </p:dialog>
    
     <p:dialog  modal="true" id="dialogoPersonalDna" widgetVar="dialogoPersonalDna" width="90%" style="max-width: 900px" height="500px" 
             header="Equipo" closeOnEscape="true" resizable="false" dynamic="false">
            <h:form id="frmPersonalDna">
               <ui:include src="panelPersonalExterno.xhtml"/>
                 <br></br>
                <p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" class="pnoborder pright">
                    <p:column>
                        <p:commandButton value="Guardar" 
                                         icon="ui-icon-disk" 
                                         title="Guarda los datos de las persona" 
                                         actionListener="#{acreditacionAdministrado.agregarAEquipo()}"
                                         oncomplete="if (!args.validationFailed) PF('dialogoPersonalDna').hide()"
                                         update="@form :formActualizar:tablaPersonal"/>	
                        <p:commandButton value="Cerrar" onclick="PF('dialogoPersonalDna').hide();" immediate="true" process="@this" icon="ui-icon-cancel"/>
                    </p:column>
                </p:panelGrid>
                 <f:event listener="#{acreditacionAdministrado.validarPanelPersona}" type="postValidate" />
            </h:form>    
        </p:dialog>
        
</f:view>
