<f:view contentType="text/html"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:pe="http://primefaces.org/ui/extensions">
                
              <div class="ui-g">
                <div class="ui-g-12 ui-md-12">
                    <h2>#{acreditacionAdministrado.acreditacion.padre.dna.txtEntidad}</h2>
                    <h3>#{acreditacionAdministrado.acreditacionAEvaluar.padre.dna.txtConstancia} - 
                        #{acreditacionAdministrado.acreditacion.padre.dna.txtNombre} - 
                        #{acreditacionAdministrado.getNombreDepartamentoAcre(acreditacionAdministrado.acreditacion)} -
                        #{acreditacionAdministrado.getNombreProvinciaAcre(acreditacionAdministrado.acreditacion)} -
                        #{acreditacionAdministrado.getNombreDistritoAcre(acreditacionAdministrado.acreditacion)}
                    </h3>
                </div>
                <div class="ui-g-12 ui-md-12">
                    <p:outputLabel value="Teléfono:"/>#{acreditacionAdministrado.acreditacion.padre.txtTelefono}
                </div>
            </div>
            <p:separator />
                
            <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsEstadoCons!=null?'panelObs':''}">
       
                <div class="ui-g-12 ui-md-5">    
                    <p:outputLabel for="txtEstadoCons" value="Estado de Conservación"/> 
                </div>
                <div class="ui-g-12 ui-md-7">
                    <p:selectOneRadio id="txtEstadoCons" value="#{acreditacionAdministrado.acreditacion.txtEstadoCons}"
                                      disabled="true" >
                        <f:selectItem itemLabel="BUENO" itemValue="1" />
                        <f:selectItem itemLabel="REGULAR" itemValue="2" />
                        <f:selectItem itemLabel="MALO" itemValue="3" />
                    </p:selectOneRadio>
                </div>
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                           acreditacionAdministrado.acreditacion.acreditacionEval.obsEstadoCons!=null}" >
                    Original: #{acreditacionAdministrado.obtenerNombreEsConservacion()} <br />
                    Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsEstadoCons}
                </p:outputPanel>
            </div>
            <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsNroOrdenanza!=null?'panelObs':''}">
       
                <div class="ui-g-12 ui-md-4">    
                    <p:outputLabel for="txtNroOrdenanza" value="Número de ordenanza"/> 
                </div>
                <div class="ui-g-12 ui-md-8">
                    <p:inputText id="txtNroOrdenanza" value="#{acreditacionAdministrado.acreditacion.txtNroOrdenanza}" readonly="true">
                    </p:inputText>
                </div>
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                           acreditacionAdministrado.acreditacion.acreditacionEval.obsNroOrdenanza!=null}" >
                    Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.txtNroOrdenanza} <br />
                    Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsNroOrdenanza}
                </p:outputPanel>
            </div>
            
            <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsFecOrdenanza!=null?'panelObs':''}">
       
                <div class="ui-g-12 ui-md-4">    
                    <p:outputLabel for="txtFecOrdenanza" value="Fecha de ordenanza"/> 
                </div>
                <div class="ui-g-12 ui-md-8">
                    <p:inputText id="txtFecOrdenanza" readonly="true" 
                                 value="#{acreditacionAdministrado.obtenerFechaConFormato(acreditacionAdministrado.acreditacion.fecOrdenanza)}">
                    </p:inputText>
                </div>
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                           acreditacionAdministrado.acreditacion.acreditacionEval.obsFecOrdenanza!=null}" >
                    Original: #{acreditacionAdministrado.obtenerFechaConFormato(acreditacionAdministrado.acreditacion.acreditacionEval.fecOrdenanza)} <br />
                    Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsFecOrdenanza}
                </p:outputPanel>
            </div>
            
            <div class="ui-g">
                <div class="ui-g-12 ui-md-1">
                    <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacion.flgEquipoComputo}" >
                   </p:selectBooleanCheckbox>
               </div>
               <div class="ui-g-12 ui-md-9">    
                   <p:outputLabel value="¿Cuenta con equipo de cómputo a disposición de cada personal de la DEMUNA?"/> 
               </div>
           </div>

           <div class="ui-g">
                <div class="ui-g-12 ui-md-1">
                    <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacion.flgImpresora}" >
                   </p:selectBooleanCheckbox>
               </div>
               <div class="ui-g-12 ui-md-9">    
                   <p:outputLabel value="¿Cuenta con impresora a disposición de la DEMUNA?"/> 
               </div>
           </div>

           <div class="ui-g">
                <div class="ui-g-12 ui-md-1">
                    <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacion.flgInternet}" >
                   </p:selectBooleanCheckbox>
               </div>
               <div class="ui-g-12 ui-md-9">    
                   <p:outputLabel value="¿Cuenta con conexión a internet en la DEMUNA?"/> 
               </div>
           </div>

           <div class="ui-g">
                <div class="ui-g-12 ui-md-1">
                    <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacion.flgArchivadores}" >
                   </p:selectBooleanCheckbox>
               </div>
               <div class="ui-g-12 ui-md-9">    
                   <p:outputLabel value="¿Los archivadores y escritorios son seguros para el resguardo de los expedientes sobre riesgo de desprotección y otros de la DEMUNA?"/> 
               </div>
           </div>

           <div class="ui-g">
                <div class="ui-g-12 ui-md-1">
                    <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacion.flgAccesibilidad}" >
                   </p:selectBooleanCheckbox>
               </div>
               <div class="ui-g-12 ui-md-9">    
                   <p:outputLabel value="¿El Local garantiza la accesibilidad de niñas, niños, adolescentes, madres gestantes o personas con discapacidad?"/> 
               </div>
           </div>

           <div class="ui-g">
                <div class="ui-g-12 ui-md-1">
                    <p:selectBooleanCheckbox disabled="true" value="#{acreditacionAdministrado.acreditacion.flgAreaLudica}" >
                   </p:selectBooleanCheckbox>
               </div>
               <div class="ui-g-12 ui-md-9">    
                   <p:outputLabel value="¿Cuenta con un área lúdica para la atención de niñas, niños y adolescentes?"/> 
               </div>

           </div>

            <p:panelGrid id="pTabla" columns="1" columnClasses="ui-grid-col-12" layout="grid" class="boxshadowinside pnoborder">

               <p:dataTable 
                   id="tablaPersonasEvaluar"
                   widgetVar="tablaPersonasEvaluar" 
                   var="item" 
                   value="#{acreditacionAdministrado.equipoExterno}" 
                   rowIndexVar="index"
                   scrollable="true"
                   rows="10" 
                   paginator="false"
                   resizableColumns="false"
                   currentPageReportTemplate="Mostrando {startRecord} - {endRecord} de {totalRecords}">

                   <p:column headerText="ACCIONES"  class="pcenter" width="10%">                                       	                                
                       <p:commandButton update=":dialogoEPersonaSubsanar"  process="@this"  
                                        actionListener="#{acreditacionAdministrado.obtenerPersonaExternoActualizar(item)}"
                                        oncomplete="PF('dialogoEPersonaSubsanar').show();" 
                                        title="Evaluar" icon="fa fa-check">
                       </p:commandButton>
                   </p:column>

                   <p:column headerText="FUNCIÓN"  class="pcenter" width="15%">
                       <h:outputText value="#{item.funcion.txtNombre}" />
                   </p:column>
                   <p:column headerText="NOMBRES"  class="pcenter" width="20%">
                       <h:outputText value="#{item.txtNombre1}" />
                   </p:column>

                   <p:column headerText="APELLIDO PATERNO" class="pcenter" width="15%">
                       <h:outputText value="#{item.txtApellidoPaterno}" />
                   </p:column>

                   <p:column headerText="APELLIDO MATERNO" class="pcenter" width="15%">
                       <h:outputText value="#{item.txtApellidoMaterno}" />
                   </p:column>

                   <p:column headerText="SEXO" class="pcenter" width="5%">
                       <h:outputText value="#{item.txtSexo}" />
                   </p:column>

               </p:dataTable>

           </p:panelGrid>
            <p:dataList id="dlAdjuntos" value="#{acreditacionAdministrado.adjuntos}" var="doc" type="definition" rowIndexVar="indexDoc" >
                <c:set var="nombreFile" value="inscripcionAdministrado.file${indexDoc}" />
                <f:facet name="header">
                    Adjuntar Documentos
                </f:facet>
                <div class="ui-g">
                    <div class="ui-g-12 hidden-xs ui-md-6">
                       <p:outputPanel  id="dwArchivo" >
                          <p:commandButton value="Descargar #{acreditacionAdministrado.getFileName(doc)}"
                                           rendered="#{acreditacionAdministrado.getFileName(doc)!=null}"
                                           ajax="false" process="@this">
                                <p:fileDownload value="#{acreditacionAdministrado.obtenerNombreAdjunto(doc)}" />
                          </p:commandButton>
                       </p:outputPanel>    
                    </div>
                    
                </div>
                    
            </p:dataList>
            <div class="ui-g">
                <div class="ui-g-12 ui-md-1">
                    <p:selectBooleanCheckbox value="#{acreditacionAdministrado.flgDenegarAcreditacion}" >
                        <p:ajax update="obsDenegar , btnEvaluar" />
                    </p:selectBooleanCheckbox>
                </div>
                <div class="ui-g-12 ui-md-4"> Denegar Acreditación  </div>
            </div>
            <p:outputPanel id="obsDenegar" style="width: 100%">
                <div class="ui-g">
                    <div class="ui-g-12 ui-md-1"> </div>   
                    <div class="ui-g-12 ui-md-11"> 
                        <p:inputTextarea rendered="#{acreditacionAdministrado.flgDenegarAcreditacion}"
                                 required="#{acreditacionAdministrado.flgDenegarAcreditacion}"
                                 requiredMessage="Debe ingresar la la razón por la cual se denego la inscripción."
                                 value="#{acreditacionAdministrado.acreditacion.obsDenegado}" 
                                 maxlength="850"
                                 rows="5">
                    </p:inputTextarea>
                    </div>
                </div>                     
            </p:outputPanel>  
</f:view>
