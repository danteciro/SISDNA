<f:view contentType="text/html"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:pe="http://primefaces.org/ui/extensions">
             
     <p:fieldset legend="DATOS DE LA DEMUNA" style="width: 100%">
     
        <div class="ui-g">
           <div class="ui-g-12 ui-md-3 ui-lg-2"><p:outputLabel value="Código de la DNA:"/>  </div>
           <div class="ui-g-12 ui-md-9 ui-lg-10"><p:outputLabel class="pbold" value="#{acreditacionAdministrado.acreditacion.dna.txtConstancia}"/>  </div>
       </div>
        <div class="ui-g">
           <div class="ui-g-12 ui-md-3 ui-lg-2"><p:outputLabel value="Municipalidad:"/>  </div>
           <div class="ui-g-12 ui-md-9 ui-lg-10"><p:outputLabel  class="pbold" value="#{acreditacionAdministrado.acreditacion.dna.txtEntidad}"/>  </div>
       </div>
       <div class="ui-g">
           <div class="ui-g-12 ui-md-3 ui-lg-2"><p:outputLabel value="Nombre de la DNA:"/></div>
           <div class="ui-g-12 ui-md-9 ui-lg-10"><p:outputLabel class="pbold" value="#{acreditacionAdministrado.acreditacion.dna.txtNombre}"/></div>
       </div>
        <div class="ui-g">
           <div class="ui-g-12 ui-md-3 ui-lg-2"><p:outputLabel value="Departamento:"/> </div>
           <div class="ui-g-12 ui-md-2"><p:outputLabel class="pbold" value="#{acreditacionAdministrado.getNombreDepartamento(acreditacionAdministrado.acreditacion.dna.nidDepartamento)}" />  </div>
           <div class="ui-g-12 ui-md-1"><p:outputLabel value="Provincia:"/></div>
           <div class="ui-g-12 ui-md-2"><p:outputLabel class="pbold" value="#{acreditacionAdministrado.getNombreProvincia(acreditacionAdministrado.acreditacion.dna.nidProvincia)}" />  </div>
           <div class="ui-g-12 ui-md-1"><p:outputLabel value="Distrito:"/></div>
           <div class="ui-g-12 ui-md-2"><p:outputLabel class="pbold" value="#{acreditacionAdministrado.getNombreDistrito(acreditacionAdministrado.acreditacion.dna.nidDistrito)}" />  </div>
       </div>



        <p:separator />


          <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsFecOrdenanza!=null?'panelObs':''}">

            <div class="ui-g-12 ui-md-4">    
                <p:outputLabel for="txtFecOrdenanzaSub" value="Fecha de ordenanza"/> 
            </div>
            <div class="ui-g-12 ui-md-8">
                <p:inputText id="txtFecOrdenanzaSub" readonly="true" style="width: 100px !important"
                             value="#{acreditacionAdministrado.obtenerFechaConFormato(acreditacionAdministrado.acreditacion.fecOrdenanza)}">
                </p:inputText>
            
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                           acreditacionAdministrado.acreditacion.acreditacionEval.obsFecOrdenanza!=null}" >
                    Original: #{acreditacionAdministrado.obtenerFechaConFormato(acreditacionAdministrado.acreditacion.acreditacionEval.fecOrdenanza)} <br />
                    Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsFecOrdenanza}
                </p:outputPanel>
             </div>
        </div>

        <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsDocCreacion!=null?'panelObs':''}">

            <div class="ui-g-12 ui-md-4">    
                <p:outputLabel value="Número de ordenanza"/> 
            </div>
            <div class="ui-g-12 ui-md-8">
                <p:inputText value="#{acreditacionAdministrado.acreditacion.txtDocumento}" readonly="true">
                </p:inputText>
           
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                           acreditacionAdministrado.acreditacion.acreditacionEval.obsDocCreacion!=null}" >
                    Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.txtDocumento} <br />
                    Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsDocCreacion}
                </p:outputPanel>
              </div>   
        </div>

        <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsNorma!=null?'panelObs':''}">
            <div class="ui-g-12 ui-md-4">
                 <p:outputLabel value="Norma y el artículo de la Ordenanza donde se consigna como función de la DEMUNA"/>  
            </div>
            <div class="ui-g-12 ui-md-8">
                <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacion.txtNorma}" />
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                   acreditacionAdministrado.acreditacion.acreditacionEval.obsNorma!=null}" >
                Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.txtNorma} <br />
                Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsNorma}
               </p:outputPanel>
             </div>
        </div>
        <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsDireccion!=null?'panelObs':''}">
            <div class="ui-g-12 ui-md-4">
                   <p:outputLabel value="Dirección"/>  
            </div>
            <div class="ui-g-12 ui-md-8">
                <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacion.txtDireccion}" />
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                   acreditacionAdministrado.acreditacion.acreditacionEval.obsDireccion!=null}" >
                Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.txtDireccion} <br />
                Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsDireccion}
               </p:outputPanel>
            </div>
        </div>


        <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsCorreo!=null?'panelObs':''}">
            <div class="ui-g-12 ui-md-4">
                   <p:outputLabel value="Correo electrónico de contacto"/>  
            </div>
            <div class="ui-g-12 ui-md-8">
                <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacion.txtCorreo}" />
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                   acreditacionAdministrado.acreditacion.acreditacionEval.obsCorreo!=null}" >
                Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.txtCorreo} <br />
                Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsCorreo}
               </p:outputPanel>
           </div>

        </div>

         <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsDias!=null?'panelObs':''}">
            <div class="ui-g-12 ui-md-4">
                <p:outputLabel value="Días y horas de Atención"/>    
            </div>
            <div class="ui-g-12 ui-md-8">
                 <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacion.dias}" />
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                   acreditacionAdministrado.acreditacion.acreditacionEval.obsDias!=null}" >
                Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.dias} <br />
                Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsDias}
               </p:outputPanel>
           </div>
        </div>

        <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsGerencia!=null?'panelObs':''}">
             <div class="ui-g-12 ui-md-4">
                 <p:outputLabel value="Órgano, oficina o área a la que pertenece la DEMUNA"/>    
            </div>
            <div class="ui-g-12 ui-md-8">
                <p:inputText  readonly="true" value="#{acreditacionAdministrado.acreditacion.txtGerencia}" />
                <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                   acreditacionAdministrado.acreditacion.acreditacionEval.obsGerencia!=null}" >
                Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.txtGerencia} <br />
                Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsGerencia}
               </p:outputPanel>
            </div>
        </div>

    </p:fieldset>
    <p:fieldset legend="CONDICIONES DEL ESPACIO QUE OCUPA LA DEMUNA" style="width: 100%">

            <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsAmbientes!=null?'panelObs':''}">
              <div class="ui-g-12 ui-md-4">
                    <p:outputLabel value="Número de ambientes con los que cuenta la DNA"/>    
              </div>
              <div class="ui-g-12 ui-md-8">
                  <p:inputText readonly="true" value="#{acreditacionAdministrado.acreditacion.ambientes}" style="width: 80px !important" />
                  <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                             acreditacionAdministrado.acreditacion.acreditacionEval.obsAmbientes!=null}" >
                    Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.ambientes} <br />
                    Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsAmbientes}
                   </p:outputPanel>
              </div>
          </div>  


         <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval.obsAmbientesPriv!=null?'panelObs':''}">
              <div class="ui-g-12 ui-md-4">
                   <p:outputLabel value="Número de ambientes para audiencias privadas"/>    
              </div>
              <div class="ui-g-12 ui-md-8">
                  <p:inputText readonly="true" value="#{acreditacionAdministrado.acreditacion.ambientesPriv}"  style="width: 80px !important" />
                    <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                            acreditacionAdministrado.acreditacion.acreditacionEval.obsAmbientesPriv!=null}" >
                   Original: #{acreditacionAdministrado.acreditacion.acreditacionEval.ambientesPriv} <br />
                   Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsAmbientesPriv}
                  </p:outputPanel>
               
              </div>
          </div>

          
        <div class="ui-g #{!acreditacionAdministrado.acreditacion.flgEquipoComputo ?'panelObs':''}">
             <div class="ui-g-12 ui-md-8">
                <p:outputLabel value="¿Cuenta con equipo de cómputo a disposición de cada personal de la DEMUNA?"/> 
            </div>
            <div class="ui-g-12 ui-md-1">    
                <p:selectBooleanCheckbox  value="#{acreditacionAdministrado.acreditacion.flgEquipoComputo}" disabled="true">
                </p:selectBooleanCheckbox>
            </div>
           
        </div>
        
        <div class="ui-g #{!acreditacionAdministrado.acreditacion.flgImpresora  ?'panelObs':''}">
             <div class="ui-g-12 ui-md-8">
                <p:outputLabel value="¿Cuenta con impresora a disposición de la DEMUNA?"/> 
            </div>
            <div class="ui-g-12 ui-md-1">    
                <p:selectBooleanCheckbox value="#{acreditacionAdministrado.acreditacion.flgImpresora}" disabled="true">
                </p:selectBooleanCheckbox>
            </div>
           
        </div>
    
        <div class="ui-g #{!acreditacionAdministrado.acreditacion.flgInternet ?'panelObs':''}">
             <div class="ui-g-12 ui-md-8">
                <p:outputLabel value="¿Cuenta con conexión a internet en la DEMUNA?"/> 
            </div>
            <div class="ui-g-12 ui-md-1">    
                <p:selectBooleanCheckbox value="#{acreditacionAdministrado.acreditacion.flgInternet}" disabled="true">
                </p:selectBooleanCheckbox>
            </div>
           
        </div>
    
        <div class="ui-g #{!acreditacionAdministrado.acreditacion.flgArchivadores ?'panelObs':''}">
             <div class="ui-g-12 ui-md-8">
                <p:outputLabel value="¿Los archivadores y escritorios son seguros para el resguardo de los expedientes sobre riesgo de desprotección y otros de la DEMUNA?"/> 
            </div>
            <div class="ui-g-12 ui-md-1">    
                <p:selectBooleanCheckbox value="#{acreditacionAdministrado.acreditacion.flgArchivadores}" disabled="true">
                </p:selectBooleanCheckbox>
            </div>
           
        </div>
    
        <div class="ui-g #{!acreditacionAdministrado.acreditacion.flgAccesibilidad ?'panelObs':''}">
              <div class="ui-g-12 ui-md-8">
                <p:outputLabel value="¿El Local garantiza la accesibilidad de niñas, niños, adolescentes, madres gestantes o personas con discapacidad?"/> 
            </div>
            <div class="ui-g-12 ui-md-1">    
                <p:selectBooleanCheckbox value="#{acreditacionAdministrado.acreditacion.flgAccesibilidad}" disabled="true">
                </p:selectBooleanCheckbox>
            </div>
          
        </div>
        
        <div class="ui-g #{!acreditacionAdministrado.acreditacion.flgAreaLudica ?'panelObs':''}">
            <div class="ui-g-12 ui-md-8">
                <p:outputLabel value="¿Cuenta con un área lúdica para la atención de niñas, niños y adolescentes?"/> 
            </div>
            <div class="ui-g-12 ui-md-1">    
                <p:selectBooleanCheckbox value="#{acreditacionAdministrado.acreditacion.flgAreaLudica}" disabled="true">
                </p:selectBooleanCheckbox>
            </div>
            
        </div>
        <div class="ui-g #{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                           acreditacionAdministrado.acreditacion.acreditacionEval.obsEstadoCons != null?'panelObs':''}">
            <div class="ui-g-12 ui-md-8">    
                <p:outputLabel for="txtEstadoConsSub" value="¿Cuál es el estado de conservación de la oficina de DEMUNA?"/> 
            </div>
            <div class="ui-g-12 ui-md-4">
                   <p:selectOneRadio  disabled="true" id="txtEstadoConsSub" 
                                      value="#{acreditacionAdministrado.acreditacion.txtEstadoCons}">
                       <f:selectItem itemLabel="BUENO" itemValue="1" />
                       <f:selectItem itemLabel="REGULAR" itemValue="2" />
                       <f:selectItem itemLabel="MALO" itemValue="3" />
                   </p:selectOneRadio>
               
                 <p:outputPanel rendered="#{acreditacionAdministrado.acreditacion.acreditacionEval != null and 
                                           acreditacionAdministrado.acreditacion.acreditacionEval.obsEstadoCons!=null}" >
                    Original: #{acreditacionAdministrado.obtenerNombreEsConservacion()} <br />
                    Observación: #{acreditacionAdministrado.acreditacion.acreditacionEval.obsEstadoCons}
                </p:outputPanel>
                 </div>  
         </div>
       </p:fieldset>        
            
            <p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" class="boxshadowinside pnoborder">

               <p:dataTable 
                   id="tablaPersonasEvaluar"
                   widgetVar="tablaPersonasEvaluar" 
                   var="item" 
                   value="#{acreditacionAdministrado.equipoExterno}" 
                   rowIndexVar="index"
                   scrollable="true"
                   rows="10" 
                   paginator="false"
                   resizableColumns="false"
                   currentPageReportTemplate="Mostrando {startRecord} - {endRecord} de {totalRecords}">

                   <p:column headerText="ACCIONES"  class="pcenter" width="10%">                                       	                                
                       <p:commandButton update=":dialogoEPersonaSubsanar"  process="@this"  
                                        actionListener="#{acreditacionAdministrado.obtenerPersonaExternoActualizar(item)}"
                                        oncomplete="PF('dialogoEPersonaSubsanar').show();" 
                                        title="Evaluar" icon="fa fa-check">
                       </p:commandButton>
                   </p:column>

                   <p:column headerText="FUNCIÓN"  class="pcenter" width="15%">
                       <h:outputText value="#{item.funcion.txtNombre}" />
                   </p:column>
                   <p:column headerText="NOMBRES"  class="pcenter" width="20%">
                       <h:outputText value="#{item.txtNombre1}" />
                   </p:column>

                   <p:column headerText="APELLIDO PATERNO" class="pcenter" width="15%">
                       <h:outputText value="#{item.txtApellidoPaterno}" />
                   </p:column>

                   <p:column headerText="APELLIDO MATERNO" class="pcenter" width="15%">
                       <h:outputText value="#{item.txtApellidoMaterno}" />
                   </p:column>

                   <p:column headerText="SEXO" class="pcenter" width="5%">
                       <h:outputText value="#{item.txtSexo}" />
                   </p:column>

               </p:dataTable>

           </p:panelGrid>
            <p:dataList value="#{acreditacionAdministrado.adjuntos}" var="doc" type="definition" rowIndexVar="indexDoc" >
                <c:set var="nombreFile" value="inscripcionAdministrado.file${indexDoc}" />
                    <div class="ui-g">
                    <div class="ui-g-12 hidden-xs ui-md-6">
                       <p:outputPanel  id="dwArchivo" >
                            <p:commandLink  ajax="false" process="@this" immediate="true" style="line-height: 20px; margin-left: 12px;"
                                        value="Descargar  #{doc.tipo.txtNombre}: #{acreditacionAdministrado.getFileName(doc)}">
                                   <p:fileDownload value="#{acreditacionAdministrado.obtenerNombreAdjunto(doc)}" />
                               </p:commandLink>
                         
                       </p:outputPanel>    
                    </div>
                    
                </div>
                    
            </p:dataList>
            <div class="ui-g">
                <div class="ui-g-12 ui-md-12">
                    <p:selectBooleanCheckbox value="#{acreditacionAdministrado.flgDenegarAcreditacion}" >
                        <p:ajax event="change" update="obsDenegar , btnEvaluarSub" />
                    </p:selectBooleanCheckbox>
               
                    Denegar Acreditación  
                </div>
            </div>
            <p:outputPanel id="obsDenegar" style="width: 100%">
                <div class="ui-g">
                      <div class="ui-g-12 ui-md-12"> 
                        <p:inputTextarea rendered="#{acreditacionAdministrado.flgDenegarAcreditacion}"
                                 required="#{acreditacionAdministrado.flgDenegarAcreditacion}"
                                 requiredMessage="Debe ingresar la la razón por la cual se denego la inscripción."
                                 value="#{acreditacionAdministrado.acreditacion.obsDenegado}" 
                                 maxlength="850"
                                 rows="5">
                    </p:inputTextarea>
                    </div>
                </div>                     
            </p:outputPanel>  
</f:view>
